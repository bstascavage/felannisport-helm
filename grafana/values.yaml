grafana:
  service:
    type: LoadBalancer

  ingress:
    enabled: true
    annotations:
      ingress.kubernetes.io/ssl-redirect: "true"
      kubernetes.io/tls-acme: "true"
      certmanager.k8s.io/issuer: letsencrypt
      kubernetes.io/ingress.class: "nginx"
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    labels: {}
    path: /
    hosts:
      - grafana.felannisport.com
    tls:
      - secretName: letsencrypt-grafana
        hosts:
          - grafana.felannisport.com

  persistence:
    enabled: true
    initChownData: true
    storageClassName: nfs-client
    accessModes:
      - ReadWriteOnce
    size: 5Gi
    # annotations: {}
    # subPath: ""

  adminUser: admin
    adminPassword: admin

  grafana.ini:
    auth.generic_oauth:
      allow_sign_up: true
      auth_url: https://dex.felannisport.com/auth
      client_id: dex-grafana
      client_secret: ZXhhbXBsZS1hcHAtc2VjcmV0sdleojfdpoounwes
      enabled: true
      name: Google SSO
      scopes: openid email profile groups
      token_url: https://dex.felannisport.com/token
    log:
      level: debug
    server:
      root_url: https://grafana.felannisport.com
    paths:
      data: /var/lib/grafana/data
      logs: /var/log/grafana
      plugins: /var/lib/grafana/plugins
      provisioning: /etc/grafana/provisioning

  sidecar:
    image: kiwigrid/k8s-sidecar:0.0.13
    imagePullPolicy: IfNotPresent
    resources: {}
    dashboards:
      enabled: false
      # label that the configmaps with dashboards are marked with
      label: grafana_dashboard
      # folder in the pod that should hold the collected dashboards
      folder: /tmp/dashboards
      # If specified, the sidecar will search for dashboard config-maps inside this namespace.
      # Otherwise the namespace in which the sidecar is running will be used.
      # It's also possible to specify ALL to search in all namespaces
      searchNamespace: null
    datasources:
      enabled: true
      # label that the configmaps with datasources are marked with
      label: grafana_datasource
      # If specified, the sidecar will search for datasource config-maps inside this namespace.
      # Otherwise the namespace in which the sidecar is running will be used.
      # It's also possible to specify ALL to search in all namespaces
      searchNamespace: null
